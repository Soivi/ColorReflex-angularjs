<!doctype html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->
  <head>
    <meta charset="utf-8">
    <title>ColorReflex</title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width">
    <!-- Place favicon.ico and apple-touch-icon.png in the root directory -->
    <!-- build:css styles/vendor.css -->
    <!-- bower:css 
    <link rel="stylesheet" href="bower_components/bootstrap/dist/css/bootstrap.css" /> -->
    <!-- endbower -->
    <!-- endbuild -->
    <!-- build:css({.tmp,app}) styles/main.css 
    <link rel="stylesheet" href="styles/main.css"> -->
    <!-- endbuild -->
	<link href="styles/style.css" rel="stylesheet" type="text/css">
	<link href="styles/gamestyle.css" rel="stylesheet" type="text/css">
    <!-- Google Analytics: change UA-XXXXX-X to be your site's ID 
     <script>
       (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
       (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
       m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
       })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

       ga('create', 'UA-XXXXX-X');
       ga('send', 'pageview');
    </script> -->

    <!--[if lt IE 9]>
    <script src="bower_components/es5-shim/es5-shim.js"></script>
    <script src="bower_components/json3/lib/json3.min.js"></script>
    <![endif]-->

    <!-- build:js scripts/vendor.js -->
    <!-- bower:js -->
    <script src="bower_components/jquery/dist/jquery.js"></script> 
    <script src="bower_components/angular/angular.js"></script>
    <script src="bower_components/angular-route/angular-route.min.js"></script>
    <script src="bower_components/bootstrap/dist/js/bootstrap.js"></script>
	
    <!-- endbower -->
    <!-- endbuild -->

        <!-- build:js({.tmp,app}) scripts/scripts.js -->
        <script src="scripts/app.js"></script>
        <script src="scripts/controllers/main.js"></script>
        <!-- endbuild -->

  </head>
  <body ng-app="colorReflexAngularjsApp">
  <header>
    <img src="images/logo.png" alt="some_text">
  </header>
<nav>
  <a href="#">Game</a>
  <a href="#video">Video</a>
  <a href="#pictures">Pictures</a>
  <a href="#feedback">Feedback</a>
</nav> 

    <!--[if lt IE 7]>
      <p class="browsehappy">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</p>
    <![endif]-->

    <!-- Add your site or application content here -->
    <div class="container" ng-view ng-controller="MainCtrl"></div>
<script type="text/javascript">
$(document).ready(function() {
   
		var currentPosition = 0;
		var slideWidth = 500;
		var slides = $('.slide');
		var numberOfSlides = slides.length;
		var slideShowInterval;
		var speed = 2000;


		//Assign a timer, so it will run periodically
		slideShowInterval = setInterval(changePosition, speed);
		
		slides.wrapAll('<div id="slidesHolder"></div>')
		  
		slides.css({ 'float' : 'left' });
		
		//set #slidesHolder width equal to the total width of all the slides
		$('#slidesHolder').css('width', slideWidth * numberOfSlides);
		
		$('#slideshow')
			.append('<button class="pictureChange" id="leftPicture">Move Left</button>')
			.append('<button class="pictureChange" id="rightPicture">Move Right</button>');
		
		manageNav(currentPosition);
		
		//tell the buttons what to do when clicked
		$('.pictureChange').bind('click', function() {
			
			//determine new position
			currentPosition = ($(this).attr('id')=='rightPicture')
			? currentPosition+1 : currentPosition-1;
										
			//hide/show controls
			manageNav(currentPosition);
			clearInterval(slideShowInterval);
			slideShowInterval = setInterval(changePosition, speed);
			moveSlide();
		});
		
		function manageNav(position) {
			//hide left arrow if position is first slide
			if(position==0){ $('#leftPicture').hide() }
			else { $('#leftPicture').show() }
			//hide right arrow is slide position is last slide
			if(position==numberOfSlides-1){ $('#rightPicture').hide() }
			else { $('#rightPicture').show() }
		}

		
		//changePosition: this is called when the slide is moved by the timer and NOT when the next or previous buttons are clicked
		function changePosition() {
			if(currentPosition == numberOfSlides - 1) {
				currentPosition = 0;
				manageNav(currentPosition);
			} else {
				currentPosition++;
				manageNav(currentPosition);
			}
			moveSlide();
		}
		
		
		//moveSlide: this function moves the slide 
		function moveSlide() {
				$('#slidesHolder').animate({'marginLeft' : slideWidth*(-currentPosition)});
		}
	});
</script>

<footer>
  <p>Lauri Soivi <a href="http://www.soivi.net">soivi.net </a></p>
  <p></p>
</footer> 
</body>
</html>
